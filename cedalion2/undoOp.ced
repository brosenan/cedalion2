'/bootstrap':signature(undoOp(Content,Src,Target,Container,UndoSrc,UndoTarget)::'/bootstrap':pred,annotation:changeMode([Content::'/bootstrap':typedTerm,Src::'/bootstrap':typedTerm,Target::'/bootstrap':typedTerm,Container::'/bootstrap':string,UndoSrc::'/bootstrap':typedTerm,UndoTarget::'/bootstrap':typedTerm],'/bootstrap':vert)).
'/util':behavior(undoOp(Content,Src,Target,Container,UndoSrc,UndoTarget)::'/bootstrap':pred,!'should swap Src and Target if they share all variables', (undoOp([]::'/bootstrap':list('/bootstrap':number),List::'/bootstrap':list('/bootstrap':number),[1|List]::'/bootstrap':list('/bootstrap':number),!local,UndoSrc,UndoTarget),'/util':assertEqual(UndoSrc,[1|List]::'/bootstrap':list('/bootstrap':number),'/bootstrap':typedTerm),'/util':assertEqual(UndoTarget,List::'/bootstrap':list('/bootstrap':number),'/bootstrap':typedTerm))).
'/util':behavior(undoOp(Content,Src,Target,Container,UndoSrc,UndoTarget)::'/bootstrap':pred,!'should consider Content when variables exist in Src and not in Target', (undoOp([7|List]::'/bootstrap':list('/bootstrap':number),[_|List]::'/bootstrap':list('/bootstrap':number),List::'/bootstrap':list('/bootstrap':number),!local,UndoSrc,UndoTarget),'/util':assertEqual(UndoSrc,List::'/bootstrap':list('/bootstrap':number),'/bootstrap':typedTerm),'/util':assertEqual(UndoTarget,[7|List]::'/bootstrap':list('/bootstrap':number),'/bootstrap':typedTerm))).
annotation:shrink((undoOp(Content,Src,Target,Container,Target,Src):-'/bootstrap2':collect(Target,'/bootstrap':set(V,builtin:var(V)),Container,TargetVars),'/bootstrap2':collect(Src,'/bootstrap':diffSet('/bootstrap':set(V,builtin:var(V)),softListSet(TargetVars)),Container,VarsToKeep),builtin:copyTerm('/Functional':pair(Src,VarsToKeep)::'/Functional':pairType('/bootstrap':typedTerm,'/bootstrap':list('/bootstrap':typedTerm)),'/Functional':pair(Content,VarsToKeep)::'/Functional':pairType('/bootstrap':typedTerm,'/bootstrap':list('/bootstrap':typedTerm))))).
'/bootstrap':sigProj(softListSet(List)::'/bootstrap':set(T),[List::'/bootstrap':list(T)],'/bootstrap':horiz(['/bootstrap':halfSize('/bootstrap':label(!soft)),'/bootstrap':brackets(cpi:vis(List::'/bootstrap':list(T),'/bootstrap':horizontal(0,0,'/bootstrap':label(! (,)),'/bootstrap':label(!' '))),123,125)])).
'/bootstrap':member(Elem,softListSet([First|_]),T):-builtin:equals(Elem::T,First::T).
'/bootstrap':member(Elem,softListSet([_|Rest]),T):-'/bootstrap':member(Elem,softListSet(Rest),T).
